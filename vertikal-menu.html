<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="">
    <style>
        footer,
        header {
            padding: 60px 0;
        }
    </style>
</head>

<body>
    <main>
        <aside>
            <nav class="css_side_navigation js_side_navigation">
            </nav>
        </aside>
    </main>

    <!--
                <div class="css_side_navigation_gruppe">

                    <a class="css_side_navigation_link" href="#">Alle fag</a>

                    <ul class="css_side_navigation_liste js_side_navigation_list">
                        <li class="css_side_navigation_list_item">

                            <a class="css_side_navigation_link" href="#">Almene fag</a>

                            <ul class="css_side_navigation_liste js_side_navigation_list">
                                <li class="css_side_navigation_list_item">

                                    <a class="css_side_navigation_link" href="#">Livsv√¶rdier</a>

                                </li>
                                <li class="css_side_navigation_list_item">

                                    <a class="css_side_navigation_link" href="#">Krop og sundhed</a>

                                </li>
                            </ul>

                        </li>
                    </ul>
                </div>
-->




    <template class="js_side_navigation_link_template">

        <a class="css_side_navigation_link js_side_navigation_link" href="#"></a>

    </template>

    <template class="js_side_navigation_list_template">
        <ul class="css_side_navigation_liste js_side_navigation_list"></ul>
    </template>

    <template class="js_side_navigation_list_item_template">
        <li class="css_side_navigation_list_item js_side_navigation_list_item"></li>
    </template>



    <script>
        /*****

        Menu

        *****/
        const verticalMenuList = [{
                name: 'Fagkatalog',
                taxonomy: 'category',
                type: ''
            },
            {
                name: 'Det praktiske',
                taxonomy: 'page',
                type: ''
            },
            {
                name: 'Debatten',
                taxonomy: 'post',
                type: 'fag'
            }
        ];
        const menuName = 'hojskole';

        /*****

        Globale variabler

        *****/

        // website url (index page)
        let baseUrl = 'https://sljfineart.com/kea/sem-2/ihs-09-cms/wordpress/wp-json/wp/v2/';

        // Routes
        let urlRoutePage = 'page';
        let urlRouteCategory = 'categories';
        let urlRoutePosts = 'posts';

        // Post types
        let urlRouteFacilitet = 'facilitet';
        let urlRouteFag = 'fag';
        let urlRoutePersonale = 'person';

        let urlRouteCategoryParameter = '?include=9';

        // pages, categories and posts data
        let pages;
        let categories;
        let fag;

        /*****

        Globale templates og containers

        *****/

        // Container
        let sideNavigationContainer = document.querySelector(".js_side_navigation");

        // Templates
        // Link
        let sideNavigationLinkTemplate = document.querySelector(".js_side_navigation_link_template").content;
        // List
        let sideNavigationListTemplate = document.querySelector(".js_side_navigation_list_template").content;
        // List item
        let sideNavigationListItemTemplate = document.querySelector(".js_side_navigation_list_item_template").content;


        document.addEventListener("DOMContentLoaded", start);

        function start() {
            createMenu(verticalMenuList);
        }

        async function getData(urlRoute, urlParameter) {
            console.log('getData');

            if (urlRoute === 'category') {
                urlRoute = 'categories';
            } else if (urlRoute === 'post') {
                urlRoute = 'posts';
            } else if (urlRoute === 'page') {
                urlRoute = 'pages';
            }

            let response = await fetch(`${baseUrl}${urlRoute}${urlParameter}`);

            let data = await response.json();

            console.log(data);
            return data;
        }

        async function createMenu(menuItems) {
            console.log('verticalMenuAssembly');

            // Hent alt data asynkront
            pages = await getData(urlRoutePage, '');
            categories = await getData(urlRouteCategory, '');
            fag = await getData(urlRouteFag, '');

            // Templates
            let templateList = sideNavigationListTemplate.content;
            let templateLink = sideNavigationLinkTemplate.content;
            let templateLinkItem = sideNavigationListItemTemplate.content;

            console.log('menuItems', menuItems);

            for (topMenuItem in menuItems) {

                topMenuItem = menuItems[topMenuItem];
                console.log(topMenuItem);


                // 1. Hent post / category / page ned
                let menuItemData;


                // 2. Tjek om der er counts (posts) osv osv.

            }

        }
    </script>
</body></html>
